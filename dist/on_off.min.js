"use strict";(function(){var a=function(a,b,e,f){if(a){var g,h,i,j,k;!b||e||f?b&&e&&!f?(h=b,j=e):b&&e&&f&&(h=b,i=e,j=f):j=b,k=a.split(" "),g=c(this);for(var l,m=0;m<g.length;m++)if(l=g[m],l.ev||(l.ev={}),k)for(var n,o=0;o<k.length;o++)n=k[o],l.ev[n]||(l.ev[n]={nel:{},el:[],del:{}}),d(l,n,j,h)}},b=function(a,b,d){if(a){var f,g,i,j;b&&"function"==typeof b?j=b:b&&("string"==typeof b||b instanceof String)&&!d?g=b:b&&d&&(g=b,j=d),i=a.split(" "),f=c(this);for(var k,l=0;l<f.length;l++){k=f[l];for(var m,n=0;n<i.length;n++)if(m=i[n],j)e(k,m,j,g);else{var o=h(k,m,g);if(o)for(var p,q=0;q<o.length;q++)p=o[q],e(k,m,p,g)}}}},c=function(a){var b=null;return a===document||a instanceof Element?b=[a]:(a instanceof HTMLCollection||a instanceof NodeList)&&(b=a),b},d=function(a,b,c,d){if(a&&b&&c)if(!d)a.ev[b].el.push(c),a.addEventListener(b,c);else{var e=f(c,d);a.ev[b].del[d]||(a.ev[b].del[d]=[]),a.ev[b].del[d].push(e),a.addEventListener(b,e,!1)}},e=function(a,b,c,d){if(a&&b&&c)if(!d)a.ev&&a.ev[b]&&a.ev[b].el&&(a.ev[b].el=a.ev[b].el.filter(function(a){return a!=c})),a.removeEventListener(b,c);else{var e=g(a,b,c,d);e&&(a.ev[b].el=a.ev[b].del[d].filter(function(a){return a!=e}),a.removeEventListener(b,e))}},f=function(a,b){var c=null;return a&&b&&(c=function(c){for(var d=c.target;d&&d!=this;d=d.parentNode)if(d.matches(b)){a.call(d,c);break}},c.realHandler=a),c},g=function(a,b,c,d){var e=null;return a&&b&&c&&d&&a.ev&&a.ev[b]&&a.ev[b].del&&a.ev[b].del[d]&&(e=a.ev[b].el=a.ev[b].del[d].find(function(a){return a.realHandler===c})),e},h=function(a,b,c){var d=null;if(a&&a.ev&&b){var e=a.ev[b];d=c&&e.del[c]?e.del[c].map(function(a){return a.realHandler}):e.el}return d};document.on=a,Element.prototype.on=a,HTMLCollection.prototype.on=a,NodeList.prototype.on=a,document.off=b,Element.prototype.off=b,HTMLCollection.prototype.off=b,NodeList.prototype.off=b})();