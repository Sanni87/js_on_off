(()=>{"use strict";const e=function(e){let t=null;return e===document||e instanceof Element?t=[e]:(e instanceof HTMLCollection||e instanceof NodeList)&&(t=e),t},t=function(e){const t=[];if(e){const e=name.split(".");if(e)for(let n=0;n<e.length;n++)t.push(e[n])}return t},n=function(n,o,f,r){if(n){let c,s,u,v,d;!o||f||r?o&&f&&!r?(s=o,v=f):o&&f&&r&&(s=o,u=f,v=r):v=o,d=n.split(" "),c=e(this);for(let e=0;e<c.length;e++){const n=c[e];if(n.ev||(n.ev={}),d)for(let e=0;e<d.length;e++){const o=d[e],{currentEventName:f,namespace:r}=t(o);n.ev[f]||(n.ev[f]=i(!0)),l(n,r,f,v,s)}}}},l=function(e,t,n,l,f){if(e&&n&&l){let r;if(t?(e.ev[n].nel[t]||(e.ev[n].nel[t]=i()),r=e.ev[n].nel[t]):r=e.ev[n],f){const t=o(l,f);r.del[f]||(r.del[f]=[]),r.del[f].push(t),e.addEventListener(n,t,!1)}else r.el.push(l),e.addEventListener(n,l)}},o=function(e,t){let n=null;return e&&t&&(n=function(n){for(let l=n.target;l&&l!=this;l=l.parentNode)if(l.matches(t)){e.call(l,n);break}},n.realHandler=e),n},i=function(e){let t={el:[],del:{}};return e&&(t.nel={}),t},f=function(t,n,l){let o,i,f,s;n&&"function"==typeof n?s=n:n&&("string"==typeof n||n instanceof String)&&!l?i=n:n&&l&&(i=n,s=l),t&&(f=t.split(" ")),o=e(this);for(let e=0;e<o.length;e++){const t=o[e];if(f&&f.length>0)for(let e=0;e<f.length;e++){const n=f[e];s?c(t,n,s,i):r(t,n,i)}else for(const e in t.ev)r(t,e,i)}},r=function(e,t,n){let l=u(e,t,n);if(l)for(let o=0;o<l.length;o++){const i=l[o];c(e,t,i,n)}},c=function(e,t,n,l){if(e&&t&&n)if(l){const o=s(e,t,n,l);o&&(e.ev[t].del[l]=e.ev[t].del[l].filter((e=>e!=o)),e.removeEventListener(t,o))}else e.ev&&e.ev[t]&&e.ev[t].el&&(e.ev[t].el=e.ev[t].el.filter((e=>e!=n))),e.removeEventListener(t,n)},s=function(e,t,n,l){let o=null;return e&&t&&n&&l&&e.ev&&e.ev[t]&&e.ev[t].del&&e.ev[t].del[l]&&(o=e.ev[t].el=e.ev[t].del[l].find((e=>e.realHandler===n))),o},u=function(e,t,n){let l=null;if(e&&e.ev&&t){const o=e.ev[t];l=n&&o.del[n]?o.del[n].map((e=>e.realHandler)):o.el}return l};document.on=n,Element.prototype.on=n,HTMLCollection.prototype.on=n,NodeList.prototype.on=n,document.off=f,Element.prototype.off=f,HTMLCollection.prototype.off=f,NodeList.prototype.off=f})();