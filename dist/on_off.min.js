(()=>{"use strict";const e=function(e,t,o,i){if(e){let f,r,s,c,v;!t||o||i?t&&o&&!i?(r=t,c=o):t&&o&&i&&(r=t,s=o,c=i):c=t,v=e.split(" "),f=n(this);for(let e=0;e<f.length;e++){const t=f[e];if(t.ev||(t.ev={}),v)for(let e=0;e<v.length;e++){const n=v[e];t.ev[n]||(t.ev[n]={nel:{},el:[],del:{}}),l(t,n,c,r)}}}},t=function(e,t,l){if(e){let i,f,s,c;t&&"function"==typeof t?c=t:t&&("string"==typeof t||t instanceof String)&&!l?f=t:t&&l&&(f=t,c=l),s=e.split(" "),i=n(this);for(let e=0;e<i.length;e++){const t=i[e];for(let e=0;e<s.length;e++){const n=s[e];if(c)o(t,n,c,f);else{let e=r(t,n,f);if(e)for(let l=0;l<e.length;l++){const i=e[l];o(t,n,i,f)}}}}}},n=function(e){let t=null;return e===document||e instanceof Element?t=[e]:(e instanceof HTMLCollection||e instanceof NodeList)&&(t=e),t},l=function(e,t,n,l){if(e&&t&&n)if(l){const o=i(n,l);e.ev[t].del[l]||(e.ev[t].del[l]=[]),e.ev[t].del[l].push(o),e.addEventListener(t,o,!1)}else e.ev[t].el.push(n),e.addEventListener(t,n)},o=function(e,t,n,l){if(e&&t&&n)if(l){const o=f(e,t,n,l);o&&(e.ev[t].el=e.ev[t].del[l].filter((e=>e!=o)),e.removeEventListener(t,o))}else e.ev&&e.ev[t]&&e.ev[t].el&&(e.ev[t].el=e.ev[t].el.filter((e=>e!=n))),e.removeEventListener(t,n)},i=function(e,t){let n=null;return e&&t&&(n=function(n){for(let l=n.target;l&&l!=this;l=l.parentNode)if(l.matches(t)){e.call(l,n);break}},n.realHandler=e),n},f=function(e,t,n,l){let o=null;return e&&t&&n&&l&&e.ev&&e.ev[t]&&e.ev[t].del&&e.ev[t].del[l]&&(o=e.ev[t].el=e.ev[t].del[l].find((e=>e.realHandler===n))),o},r=function(e,t,n){let l=null;if(e&&e.ev&&t){const o=e.ev[t];l=n&&o.del[n]?o.del[n].map((e=>e.realHandler)):o.el}return l};document.on=e,Element.prototype.on=e,HTMLCollection.prototype.on=e,NodeList.prototype.on=e,document.off=t,Element.prototype.off=t,HTMLCollection.prototype.off=t,NodeList.prototype.off=t})();