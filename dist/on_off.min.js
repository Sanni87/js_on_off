(()=>{"use strict";const e=function(e){let t=null;return e===document||e instanceof Element?t=[e]:(e instanceof HTMLCollection||e instanceof NodeList)&&(t=e),t},t=function(e){const t=[];if(e){const n=e.split(".");if(n)for(let e=0;e<n.length;e++)t.push(n[e])}return t},n=(e,t,n,r,i)=>{if(e&&n&&r){let f;if(t?(e.ev[n].nel[t]||(e.ev[n].nel[t]=o()),f=e.ev[n].nel[t]):f=e.ev[n],i){const t=l(e,r,i);f.del[i]||(f.del[i]=[]),f.del[i].push(t),e.addEventListener(n,t,!1)}else f.el.push(r),e.addEventListener(n,r)}},l=(e,t,n)=>{let l=null;return t&&n&&(l=function(l){for(let o=l.target;o&&o!=e;o=o.parentNode)if(o.matches(n)){t.call(o,l);break}},l.realHandler=t),l},o=e=>{let t={el:[],del:{}};return e&&(t.nel={}),t},r=(e,t,n,l)=>{let o=s(e,t,n,l);if(o)for(let r=0;r<o.length;r++){const f=o[r];i(e,t,n,f,l)}if(!t&&e.ev&&e.ev[n]&&e.ev[n].nel)for(const t in e.ev[n].nel)r(e,t,n,l);if(!l&&e.ev&&e.ev[n]&&e.ev[n].del)for(const l in e.ev[n].del)r(e,t,n,l)},i=(e,t,n,l,o)=>{let r=c(e,t,n);if(r&&l)if(o){const t=f(r,l,o);t&&(r.del[o]=r.del[o].filter((e=>e!=t)),e.removeEventListener(n,t))}else e.ev&&r&&r.el&&(r.el=r.el.filter((e=>e!=l))),e.removeEventListener(n,l)},f=(e,t,n)=>{let l=null;return e&&n&&e.del[n]&&(l=e.del[n].find((e=>e.realHandler===t))),l},s=(e,t,n,l)=>{let o=null,r=c(e,t,n);return r&&(o=l&&r.del[l]?r.del[l].map((e=>e.realHandler)):r.el),o},c=(e,t,n)=>{let l;return e&&e.ev&&n&&e.ev[n]&&(t&&e.ev[n].nel[t]?l=e.ev[n].nel[t]:t||(l=e.ev[n])),l},v=function(...l){return((l,r,i,f,s)=>{if(r){let c,v,d,u,p;!i||f||s?i&&f&&!s?(v=i,u=f):i&&f&&s&&(v=i,d=f,u=s):u=i,p=r.split(" "),c=e(l);for(let e=0;e<c.length;e++){const l=c[e];if(l.ev||(l.ev={}),p)for(let e=0;e<p.length;e++){const r=p[e];let i,f;[i,f]=t(r),l.ev[i]||(l.ev[i]=o(!0)),n(l,f,i,u,v)}}}})(this,...l)},d=function(...n){return((n,l,o,f)=>{let s,c,v,d;o&&"function"==typeof o?d=o:o&&("string"==typeof o||o instanceof String)&&!f?c=o:o&&f&&(c=o,d=f),l&&(v=l.split(" ")),s=e(n);for(let e=0;e<s.length;e++){const n=s[e];if(v&&v.length>0)for(let e=0;e<v.length;e++){const l=v[e];let o,f;if([o,f]=t(l),o)d?i(n,f,o,d,c):r(n,f,o,c);else if(f)for(const e in n.ev)r(n,f,e,c)}else for(const e in n.ev)r(n,void 0,e,c)}})(this,...n)};document.on=v,Element.prototype.on=v,HTMLCollection.prototype.on=v,NodeList.prototype.on=v,document.off=d,Element.prototype.off=d,HTMLCollection.prototype.off=d,NodeList.prototype.off=d})();