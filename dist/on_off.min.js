(()=>{"use strict";const e=function(e){let t=null;return e===document||e instanceof Element?t=[e]:(e instanceof HTMLCollection||e instanceof NodeList)&&(t=e),t},t=function(t,l,o,i){if(t){let f,r,s,c,v;!l||o||i?l&&o&&!i?(r=l,c=o):l&&o&&i&&(r=l,s=o,c=i):c=l,v=t.split(" "),f=e(this);for(let e=0;e<f.length;e++){const t=f[e];if(t.ev||(t.ev={}),v)for(let e=0;e<v.length;e++){const l=v[e];t.ev[l]||(t.ev[l]={nel:{},el:[],del:{}}),n(t,l,c,r)}}}},n=function(e,t,n,o){if(e&&t&&n)if(o){const i=l(n,o);e.ev[t].del[o]||(e.ev[t].del[o]=[]),e.ev[t].del[o].push(i),e.addEventListener(t,i,!1)}else e.ev[t].el.push(n),e.addEventListener(t,n)},l=function(e,t){let n=null;return e&&t&&(n=function(n){for(let l=n.target;l&&l!=this;l=l.parentNode)if(l.matches(t)){e.call(l,n);break}},n.realHandler=e),n},o=function(t,n,l){let o,r,s,c;n&&"function"==typeof n?c=n:n&&("string"==typeof n||n instanceof String)&&!l?r=n:n&&l&&(r=n,c=l),t&&(s=t.split(" ")),o=e(this);for(let e=0;e<o.length;e++){const t=o[e];if(s&&s.length>0)for(let e=0;e<s.length;e++){const n=s[e];c?f(t,n,c,r):i(t,n,r)}else for(const e in t.ev)i(t,e,r)}},i=function(e,t,n){let l=s(e,t,n);if(l)for(let o=0;o<l.length;o++){const i=l[o];f(e,t,i,n)}},f=function(e,t,n,l){if(e&&t&&n)if(l){const o=r(e,t,n,l);o&&(e.ev[t].del[l]=e.ev[t].del[l].filter((e=>e!=o)),e.removeEventListener(t,o))}else e.ev&&e.ev[t]&&e.ev[t].el&&(e.ev[t].el=e.ev[t].el.filter((e=>e!=n))),e.removeEventListener(t,n)},r=function(e,t,n,l){let o=null;return e&&t&&n&&l&&e.ev&&e.ev[t]&&e.ev[t].del&&e.ev[t].del[l]&&(o=e.ev[t].el=e.ev[t].del[l].find((e=>e.realHandler===n))),o},s=function(e,t,n){let l=null;if(e&&e.ev&&t){const o=e.ev[t];l=n&&o.del[n]?o.del[n].map((e=>e.realHandler)):o.el}return l};document.on=t,Element.prototype.on=t,HTMLCollection.prototype.on=t,NodeList.prototype.on=t,document.off=o,Element.prototype.off=o,HTMLCollection.prototype.off=o,NodeList.prototype.off=o})();