(()=>{"use strict";const e=function(e){let t=null;return e===document||e instanceof Element?t=[e]:(e instanceof HTMLCollection||e instanceof NodeList)&&(t=e),t},t=function(e){const t=[];if(e){const n=e.split(".");if(n)for(let e=0;e<n.length;e++)t.push(n[e])}return t},n=function(n,o,f,r){if(n){let c,s,u,d,p;!o||f||r?o&&f&&!r?(s=o,d=f):o&&f&&r&&(s=o,u=f,d=r):d=o,p=n.split(" "),c=e(this);for(let e=0;e<c.length;e++){const n=c[e];if(n.ev||(n.ev={}),p)for(let e=0;e<p.length;e++){const o=p[e];let f,r;[f,r]=t(o),n.ev[f]||(n.ev[f]=i(!0)),l(n,r,f,d,s)}}}},l=function(e,t,n,l,f){if(e&&n&&l){let r;if(t?(e.ev[n].nel[t]||(e.ev[n].nel[t]=i()),r=e.ev[n].nel[t]):r=e.ev[n],f){const t=o(l,f);r.del[f]||(r.del[f]=[]),r.del[f].push(t),e.addEventListener(n,t,!1)}else r.el.push(l),e.addEventListener(n,l)}},o=function(e,t){let n=null;return e&&t&&(n=function(n){for(let l=n.target;l&&l!=this;l=l.parentNode)if(l.matches(t)){e.call(l,n);break}},n.realHandler=e),n},i=function(e){let t={el:[],del:{}};return e&&(t.nel={}),t},f=function(n,l,o){let i,f,s,u;l&&"function"==typeof l?u=l:l&&("string"==typeof l||l instanceof String)&&!o?f=l:l&&o&&(f=l,u=o),n&&(s=n.split(" ")),i=e(this);for(let e=0;e<i.length;e++){const n=i[e];if(s&&s.length>0)for(let e=0;e<s.length;e++){const l=s[e];let o,i;[o,i]=t(l),u?c(n,i,o,u,f):r(n,i,o,f)}else for(const e in n.ev)r(n,void 0,e,f)}},r=function(e,t,n,l){let o=u(e,t,n,l);if(o)for(let i=0;i<o.length;i++){const f=o[i];c(e,t,n,f,l)}},c=function(e,t,n,l,o){let i=d(e,t,n);if(i&&l)if(o){const t=s(i,l,o);t&&(i.del[o]=i.del[o].filter((e=>e!=t)),e.removeEventListener(n,t))}else e.ev&&i&&i.el&&(i.el=i.el.filter((e=>e!=l))),e.removeEventListener(n,l)},s=function(e,t,n){let l=null;return e&&n&&e.del[n]&&(l=e.del[n].find((e=>e.realHandler===t))),l},u=function(e,t,n,l){let o=null,i=d(e,t,n);return i&&(o=l&&i.del[l]?i.del[l].map((e=>e.realHandler)):i.el),o},d=function(e,t,n){let l;return e&&e.ev&&n&&e.ev[n]&&(t&&e.ev[n].nel[t]?l=e.ev[n].nel[t]:t||(l=e.ev[n])),l};document.on=n,Element.prototype.on=n,HTMLCollection.prototype.on=n,NodeList.prototype.on=n,document.off=f,Element.prototype.off=f,HTMLCollection.prototype.off=f,NodeList.prototype.off=f})();